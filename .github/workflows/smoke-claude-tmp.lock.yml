
name: "AAA Smoke Claude"
"on":
  workflow_dispatch: null

permissions: {}

jobs:
  pre_activation:
    # a condition that is always false to test activation
    if: false
    runs-on: ubuntu-slim
    steps:
        - run: |
            echo "pre activation"
    outputs:
      activated: ${{ 'true' }}

  activation:
    needs: pre_activation
    if: always() && !cancelled()
    # && (!needs.pre_activation.result || needs.pre_activation.outputs.activated == 'true')
    runs-on: ubuntu-slim
    steps:
        - run: |
            echo "activation, needs.pre_activation.result=${{ needs.pre_activation.result }}"

  agent:
    needs: ["pre_activation", "activation"]
    if: always() && !cancelled() && (!needs.pre_activation.result || needs.pre_activation.outputs.activated == 'true')
    runs-on: ubuntu-slim
    steps:
        - run: |
            echo "agent"

